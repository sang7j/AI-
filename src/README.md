# 감정으로 찾는 책 - 느낌 기반 도서 추천 시스템

감정적·추상적 키워드를 활용한 도서 추천 플랫폼입니다. "따뜻한", "감동적인", "우울한" 같은 느낌으로 책을 찾아보세요.

---

## 🌟 주요 기능

### 📚 도서 관리
- **네이버 책 검색 연동**: 책 정보 자동 가져오기
- **직접 추가**: 수동으로 도서 정보 입력
- **수정/삭제**: 등록된 도서 관리

### 💭 감정 키워드 시스템
- **키워드 등록**: 책에 대한 느낌을 자유롭게 표현
- **투표 시스템**: 다른 사용자의 키워드에 동의/비동의 투표 (1인 1회)
- **자동 검증**: 
  - 띄어쓰기 포함 불가
  - 중복 키워드 방지
  - 13자 이상 자동 줄바꿈
- **자동 삭제**: 싫어요가 좋아요보다 5표 이상 많으면 자동 삭제

### 🔍 스마트 검색
- **검색 모드**:
  - 완전 일치: 정확한 키워드만 검색
  - 퍼지 검색: 비슷한 키워드도 검색 (띄어쓰기 무시)
- **다중 키워드 입력**:
  - 쉼표로 구분: `따뜻한, 감동적인`
  - 띄어쓰기로 구분: `따뜻한 감동적인`
- **필수 키워드 (AND 조건)**: `#판타지, #마법` → 두 키워드 모두 있어야 검색
- **키워드 클릭 검색**: 책 카드의 키워드 클릭 시 즉시 검색

### 🤖 AI 키워드 통합
- **Hugging Face KoSimCSE-roberta-multitask** 모델 사용
- **유사도 분석**: 의미적 유사도 80% 이상인 키워드 자동 그룹화
- **확장 검색**: 통합 그룹 저장 시 검색에 자동 적용
  - 예: "어린이" 검색 → "어린이", "아이" 모두 검색됨

### 👥 사용자 계정
- **회원가입/로그인**: Supabase Auth 기반 인증
- **본인 키워드 투표 불가**: 자신이 등록한 키워드는 투표 불가
- **투표 제한**: 키워드당 1인 1회만 투표 가능

### 📊 통계 대시보드
- **인기 키워드**: 전체 키워드 사용 현황 및 순위
- **AI 통합 전/후 비교**: 키워드 그룹화 결과 확인
- **정렬 옵션**: 인기순, 조회순, 좋아요순, 싫어요순

---

## 🚀 시작하기

### 1단계: 책 등록
- **"책 등록"** 버튼: 네이버 책 검색 API로 정보 가져오기
- **"직접 책 추가"** 버튼: 수동으로 책 정보 입력

### 2단계: 키워드 추가
1. 책 카드 클릭 → 상세 페이지 열기
2. 감정/느낌을 표현하는 키워드 입력
3. 쉼표(,)로 여러 키워드 동시 입력 가능

### 3단계: 투표하기
- 다른 사용자가 등록한 키워드에 👍 또는 👎 투표
- 본인 키워드는 투표 불가
- 키워드당 1인 1회만 투표 가능

### 4단계: 검색하기
1. 상단 검색창에 키워드 입력
2. 여러 키워드: `따뜻한, 감동적인` 또는 띄어쓰기로 구분
3. 필수 키워드: `#판타지, #마법` (AND 조건)
4. 책 카드의 키워드 클릭으로 즉시 검색

### 5단계: AI 통합 활용
1. **"AI 키워드 통계"** 버튼 클릭
2. **"AI 통합 실행"** → 유사 키워드 자동 그룹화
3. **"통합 그룹 저장"** → 검색에 자동 적용

---

## 🔧 환경 변수 설정

### 필수 (Supabase - 이미 설정됨)
- `SUPABASE_URL`
- `SUPABASE_ANON_KEY`
- `SUPABASE_SERVICE_ROLE_KEY`
- `SUPABASE_DB_URL`

### 선택 (추가 기능용)

#### 네이버 책 검색 API (이미 설정됨)
[네이버 개발자 센터](https://developers.naver.com/)에서 발급
- `NAVER_CLIENT_ID`
- `NAVER_CLIENT_SECRET`

#### Hugging Face API (AI 키워드 통합용, 이미 설정됨)
[Hugging Face](https://huggingface.co/)에서 발급
- `HF_TOKEN`

**참고**: 모든 API가 이미 설정되어 있어 별도 설정 없이 바로 사용 가능합니다.

---

## 💡 사용 팁

### 키워드 입력 규칙
- ✅ 띄어쓰기 없이 입력: `따뜻한`, `감동적인`
- ✅ 여러 키워드 동시 입력: `따뜻한,감동적인,잔잔한`
- ❌ 띄어쓰기 포함 불가: `따뜻한 느낌` (X)
- ❌ 중복 키워드 입력 불가

### 검색 팁
- **퍼지 검색 (기본)**: 띄어쓰기 무시, 부분 일치 가능
- **완전 일치 검색**: 정확한 키워드만 매칭
- **필수 키워드**: `#` 붙이면 AND 조건 (모두 있어야 검색)
- **키워드 클릭**: 책 카드의 키워드 클릭으로 즉시 검색

### AI 통합 활용
1. AI 통합 실행으로 유사 키워드 그룹화
2. 통합 그룹 저장하면 검색에 자동 적용
3. 예: "어린이" 검색 시 "아이"도 함께 검색됨

---

## 🛠 기술 스택

### Frontend
- **React** + **TypeScript**: UI 개발
- **Tailwind CSS**: 스타일링
- **shadcn/ui**: UI 컴포넌트 라이브러리

### Backend
- **Supabase**: 
  - Deno Edge Functions (Hono 프레임워크)
  - KV Store (데이터베이스)
  - Auth (사용자 인증)

### APIs
- **네이버 책 검색 API**: 도서 정보 조회
- **Hugging Face KoSimCSE-roberta-multitask**: AI 키워드 유사도 분석

---

## 📋 주요 알고리즘

### 1. 키워드 검색 (퍼지 검색)
```typescript
// "어린"으로 검색 시 "어린이", "어린왕자" 모두 매칭
- 완전 일치: keyword === searchKeyword
- 부분 일치: keyword.includes(searchKeyword)
- 띄어쓰기 무시: 공백 제거 후 비교
- 단어별 비교: 띄어쓰기로 분리 후 각각 비교
```

### 2. 투표 시스템
```typescript
score = upvotes - downvotes

// 자동 삭제: score ≤ -5 (싫어요가 좋아요보다 5표 이상 많음)
// 검색 시 점수를 가중치로 사용
// 점수가 높을수록 상위 노출
```

### 3. AI 유사도 분석
```typescript
// Hugging Face KoSimCSE-roberta-multitask 사용
// 코사인 유사도 > 0.8인 키워드 자동 그룹화
// 예: ["어린이", "아이", "아동"] → 대표 키워드 "어린이"

// 검색 시 그룹 확장:
// "어린이" 검색 → ["어린이", "아이", "아동"] 모두 검색
```

### 4. 정렬 알고리즘
```typescript
// 인기순 (기본)
popularity = views + (score * 2) + keywordCount

// 조회순: views
// 좋아요순: totalUpvotes
// 싫어요순: totalDownvotes
```

---

## 📝 라이선스

MIT License

---

## 🎯 특징 요약

✅ **PC 전용** 웹 애플리케이션  
✅ **감정 기반** 도서 검색  
✅ **AI 유사 키워드** 통합  
✅ **투표 시스템**으로 신뢰도 관리  
✅ **네이버 책 API** 연동  
✅ **Supabase** 기반 백엔드  
✅ **실시간 검색** 및 필터링  

---

**개발**: Figma Make  
**연락**: 문의사항이 있으시면 이슈를 남겨주세요.
